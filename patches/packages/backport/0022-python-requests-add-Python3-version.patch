From b1c45bc6c78f64cb500115e2049e1c1f92dadcac Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Karel=20Ko=C4=8D=C3=AD?= <cynerd@email.cz>
Date: Mon, 11 Feb 2019 22:28:39 +0100
Subject: [PATCH 2/5] python-requests: add Python3 version
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Karel Kočí <cynerd@email.cz>
---
 lang/python/python-requests/Makefile | 76 ++++++++++++++++++++++++++++
 1 file changed, 76 insertions(+)
 create mode 100644 lang/python/python-requests/Makefile

diff --git a/lang/python/python-requests/Makefile b/lang/python/python-requests/Makefile
new file mode 100644
index 000000000..36b7302d6
--- /dev/null
+++ b/lang/python/python-requests/Makefile
@@ -0,0 +1,76 @@
+#
+# Copyright (C) 2007-2019 OpenWrt.org
+#
+# This is free software, licensed under the GNU General Public License v2.
+# See /LICENSE for more information.
+#
+
+include $(TOPDIR)/rules.mk
+
+PKG_NAME:=python-requests
+PKG_VERSION:=2.21.0
+PKG_RELEASE:=2
+PKG_LICENSE:=Apache-2.0
+
+PKG_SOURCE:=requests-$(PKG_VERSION).tar.gz
+PKG_SOURCE_URL:=https://files.pythonhosted.org/packages/source/r/requests
+PKG_HASH:=502a824f31acdacb3a35b6690b5fbf0bc41d63a24a45c4004352b0242707598e
+PKG_BUILD_DIR:=$(BUILD_DIR)/$(BUILD_VARIANT)-requests-$(PKG_VERSION)
+
+PKG_CPE_ID:=cpe:/a:python-requests:requests
+
+include $(INCLUDE_DIR)/package.mk
+include ../python-package.mk
+include ../python3-package.mk
+
+PKG_UNPACK:=$(HOST_TAR) -C $(PKG_BUILD_DIR) --strip-components=1 -xzf $(DL_DIR)/$(PKG_SOURCE)
+
+define Package/python-requests/Default
+  SUBMENU:=Python
+  SECTION:=lang
+  CATEGORY:=Languages
+  MAINTAINER:=Josef Schlehofer <josef.schlehofer@nic.cz>, Alexandru Ardelean <ardeleanalex@gmail.com>
+  URL:=http://python-requests.org/
+endef
+
+define Package/python-requests
+$(call Package/python-requests/Default)
+  TITLE:=HTTP library for Python
+  DEPENDS:= \
+	  +PACKAGE_python-requests:python \
+	  +PACKAGE_python-requests:python-chardet \
+	  +PACKAGE_python-requests:python-idna \
+	  +PACKAGE_python-requests:python-urllib3 \
+	  +PACKAGE_python-requests:python-certifi
+  VARIANT:=python
+endef
+
+define Package/python3-requests
+$(call Package/python-requests/Default)
+  TITLE:=HTTP library for Python3
+  DEPENDS:= \
+	  +python3-light  \
+	  +python3-chardet  \
+	  +python3-idna  \
+	  +python3-urllib3  \
+	  +python3-certifi
+  VARIANT:=python3
+endef
+
+define Package/python-requests/description
+  Requests is the only Non-GMO HTTP library for Python, safe for human consumption.
+endef
+
+define Package/python3-requests/description
+$(call Package/python-requests/description)
+.
+(Variant for Python3)
+endef
+
+$(eval $(call PyPackage,python-requests))
+$(eval $(call BuildPackage,python-requests))
+$(eval $(call BuildPackage,python-requests-src))
+
+$(eval $(call Py3Package,python3-requests))
+$(eval $(call BuildPackage,python3-requests))
+$(eval $(call BuildPackage,python3-requests-src))
--
2.20.1

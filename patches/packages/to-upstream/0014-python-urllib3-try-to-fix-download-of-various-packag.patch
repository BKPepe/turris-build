From 704090e915109f40940d400d5b55eaba77d2a66a Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Karel=20Ko=C4=8D=C3=AD?= <karel.koci@nic.cz>
Date: Thu, 14 Mar 2019 10:51:57 +0100
Subject: [PATCH] python-urllib3: try to fix download of various packages

---
 lang/python/python-urllib3/patches/fix-ssl.patch | 12 ++++++++++++
 1 file changed, 12 insertions(+)
 create mode 100644 lang/python/python-urllib3/patches/fix-ssl.patch

diff --git a/lang/python/python-urllib3/patches/fix-ssl.patch b/lang/python/python-urllib3/patches/fix-ssl.patch
new file mode 100644
index 0000000..35070da
--- /dev/null
+++ b/lang/python/python-urllib3/patches/fix-ssl.patch
@@ -0,0 +1,12 @@
+diff --git a/src/urllib3/util/ssl_.py b/src/urllib3/util/ssl_.py
+index 64ea192..1344f94 100644
+--- a/src/urllib3/util/ssl_.py
++++ b/src/urllib3/util/ssl_.py
+@@ -261,7 +261,7 @@ def create_urllib3_context(ssl_version=None, cert_reqs=None,
+         Constructed SSLContext object with specified options
+     :rtype: SSLContext
+     """
+-    context = SSLContext(ssl_version or ssl.PROTOCOL_SSLv23)
++    context = SSLContext(ssl_version or ssl.PROTOCOL_TLS)
+ 
+     context.set_ciphers(ciphers or DEFAULT_CIPHERS)
-- 
2.21.0


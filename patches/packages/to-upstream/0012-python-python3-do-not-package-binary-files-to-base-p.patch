From 50d6f5f135910d23e10e290aa8e735dea9faf066 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Karel=20Ko=C4=8D=C3=AD?= <karel.koci@nic.cz>
Date: Wed, 20 Feb 2019 12:51:05 +0100
Subject: [PATCH] python,python3: do not package binary files to base packages

Thanks to fix 200a5a2eec896b2d34f1114d14df66d810c1f4bd all base packages
now contain all binaries that are generated as part of python
installation. That causes collision between those packages with package
managers that consider this such as Turris updater-ng. This is also just
wrong. Those binaries were not included and should not be after
mentioned fix as well.

This just adds empty install definition. The idea is to override the
default one that is otherwise used.
---
 lang/python/python/Makefile  | 5 +++++
 lang/python/python3/Makefile | 5 +++++
 2 files changed, 10 insertions(+)

diff --git a/lang/python/python/Makefile b/lang/python/python/Makefile
index 041b3028c..ff4e16590 100644
--- a/lang/python/python/Makefile
+++ b/lang/python/python/Makefile
@@ -106,6 +106,11 @@ define PyBasePackage
       -|/usr/lib/python$(PYTHON_VERSION)/*/tests
     endif
   endef
+  ifndef PyPackage/$(1)/install
+    define PyPackage/$(1)/install
+		:
+    endef
+  endif
 endef
 
 include ./files/python-package-*.mk
diff --git a/lang/python/python3/Makefile b/lang/python/python3/Makefile
index a88b8165c..c45d12dca 100644
--- a/lang/python/python3/Makefile
+++ b/lang/python/python3/Makefile
@@ -110,6 +110,11 @@ define Py3BasePackage
       -|/usr/lib/python$(PYTHON_VERSION)/*/tests
     endif
   endef
+  ifndef Py3Package/$(1)/install
+    define Py3Package/$(1)/install
+		:
+    endef
+  endif
 endef
 
 include ./files/python3-package-*.mk
-- 
2.20.1


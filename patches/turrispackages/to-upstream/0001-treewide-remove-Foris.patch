From b14f7af355193f860d1d25795b3246865a19c895 Mon Sep 17 00:00:00 2001
From: Josef Schlehofer <pepe.schlehofer@gmail.com>
Date: Tue, 7 Sep 2021 11:51:43 +0200
Subject: [PATCH] treewide: remove Foris

Since Turris OS 6.0 (OpenWrt 21.02), there is not going to be Foris
anymore. We will ship only one UI - redesigned Foris (reForis).
---
 web/foris/foris-diagnostics-plugin/Makefile   |  48 ------
 web/foris/foris-netmetr-plugin/Makefile       |  49 ------
 web/foris/foris-openvpn-plugin/Makefile       |  48 ------
 web/foris/foris-pakon-plugin/Makefile         |  48 ------
 web/foris/foris-plugins-distutils/Makefile    |  55 -------
 web/foris/foris-storage-plugin/Makefile       |  48 ------
 web/foris/foris-subordinates-plugin/Makefile  |  48 ------
 web/foris/foris/Makefile                      | 140 ------------------
 web/foris/foris/files/00_foris.conf           |   3 -
 web/foris/foris/files/foris-config-cgi        |  33 -----
 .../foris/files/foris-config.lighttpd-conf    |   3 -
 web/foris/foris/files/foris-plugin.mk         |  78 ----------
 .../foris/files/foris-root.lighttpd-conf      |   3 -
 web/foris/foris/files/foris-translations.mk   |   1 -
 web/foris/foris/files/foris.jpg               | Bin 8215 -> 0 bytes
 web/foris/foris/files/foris.wrapper           |   4 -
 web/foris/foris/files/lighttpd-dynamic-conf   |  87 -----------
 web/foris/foris/files/turris.svg              |   3 -
 18 files changed, 699 deletions(-)
 delete mode 100644 web/foris/foris-diagnostics-plugin/Makefile
 delete mode 100644 web/foris/foris-netmetr-plugin/Makefile
 delete mode 100644 web/foris/foris-openvpn-plugin/Makefile
 delete mode 100644 web/foris/foris-pakon-plugin/Makefile
 delete mode 100644 web/foris/foris-plugins-distutils/Makefile
 delete mode 100644 web/foris/foris-storage-plugin/Makefile
 delete mode 100644 web/foris/foris-subordinates-plugin/Makefile
 delete mode 100644 web/foris/foris/Makefile
 delete mode 100644 web/foris/foris/files/00_foris.conf
 delete mode 100755 web/foris/foris/files/foris-config-cgi
 delete mode 100644 web/foris/foris/files/foris-config.lighttpd-conf
 delete mode 100644 web/foris/foris/files/foris-plugin.mk
 delete mode 100644 web/foris/foris/files/foris-root.lighttpd-conf
 delete mode 100644 web/foris/foris/files/foris-translations.mk
 delete mode 100644 web/foris/foris/files/foris.jpg
 delete mode 100644 web/foris/foris/files/foris.wrapper
 delete mode 100644 web/foris/foris/files/lighttpd-dynamic-conf
 delete mode 100644 web/foris/foris/files/turris.svg

diff --git a/web/foris/foris-diagnostics-plugin/Makefile b/web/foris/foris-diagnostics-plugin/Makefile
deleted file mode 100644
index 2a694488e..000000000
--- a/web/foris/foris-diagnostics-plugin/Makefile
+++ /dev/null
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2018-2020 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v3.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-diagnostics-plugin
-PKG_VERSION:=12.2
-PKG_RELEASE:=2
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-diagnostics-plugin.git
-PKG_MIRROR_HASH:=803dec04355bd8b380c49b1ab3c6d750f3f582cbeb4acbb3b4297076eb7f10ba
-PKG_SOURCE_VERSION:=package-v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=GPL-3.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-PKG_BUILD_DEPENDS:=foris-plugins-distutils/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ../foris/files/foris-translations.mk
-include ../foris/files/foris-plugin.mk
-
-define Package/foris-diagnostics-plugin
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris Diagnostics plugin
-  DEPENDS:= \
-    +foris +foris-controller-diagnostics-module
-  VARIANT:=python3
-endef
-
-define Package/foris-diagnostics-plugin/description
-  Foris plugin for generating diagnostics.
-endef
-
-FORIS_TRANSLATIONS:=cs de sk pl fr ru lt hu it nb
-
-$(eval $(call ForisPlugin,foris-diagnostics-plugin,diagnostics))
-# call BuildPackage <= assures OWR build system that this is package
diff --git a/web/foris/foris-netmetr-plugin/Makefile b/web/foris/foris-netmetr-plugin/Makefile
deleted file mode 100644
index 326cb9fde..000000000
--- a/web/foris/foris-netmetr-plugin/Makefile
+++ /dev/null
@@ -1,49 +0,0 @@
-#
-# Copyright (C) 2018-2020 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v3.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-netmetr-plugin
-PKG_VERSION:=4.6.2
-PKG_RELEASE:=2
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-netmetr-plugin.git
-PKG_MIRROR_HASH:=e4e47d79185c805e0e56bfe76c1829f18ce7b6053bf28afe0cf4ce6d24240816
-PKG_SOURCE_VERSION:=package-v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=GPL-3.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-PKG_BUILD_DEPENDS:=foris-plugins-distutils/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ../foris/files/foris-translations.mk
-include ../foris/files/foris-plugin.mk
-
-define Package/foris-netmetr-plugin
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris Netmetr plugin
-  DEPENDS:= \
-    +foris \
-    +foris-controller-netmetr-module
-  VARIANT:=python3
-endef
-
-define Package/foris-netmetr-plugin/description
-  Foris plugin for Netmetr.
-endef
-
-FORIS_TRANSLATIONS:=cs it de sk ru pl it hu fr nb
-
-$(eval $(call ForisPlugin,foris-netmetr-plugin,netmetr))
-# call BuildPackage <= assures OWR build system that this is package
diff --git a/web/foris/foris-openvpn-plugin/Makefile b/web/foris/foris-openvpn-plugin/Makefile
deleted file mode 100644
index 529eb1bf7..000000000
--- a/web/foris/foris-openvpn-plugin/Makefile
+++ /dev/null
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2018-2020 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v3.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-openvpn-plugin
-PKG_VERSION:=16.7
-PKG_RELEASE:=2
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-openvpn-plugin.git
-PKG_MIRROR_HASH:=2a3de648cacfccd9a8a59fa6498c86c0d260d72f401ed76d8c96fee95cbef2ee
-PKG_SOURCE_VERSION:=package-v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=GPL-3.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-PKG_BUILD_DEPENDS:=foris-plugins-distutils/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ../foris/files/foris-translations.mk
-include ../foris/files/foris-plugin.mk
-
-define Package/foris-openvpn-plugin
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris OpenVPN plugin
-  DEPENDS:= \
-    +foris +foris-controller-openvpn-module
-  VARIANT:=python3
-endef
-
-define Package/foris-openvpn-plugin/description
-  Foris plugin for OpenVPN server configuration.
-endef
-
-FORIS_TRANSLATIONS:=cs de sk pl fr ru hu it nb
-
-$(eval $(call ForisPlugin,foris-openvpn-plugin,openvpn))
-# call BuildPackage <= assures OWR build system that this is package
diff --git a/web/foris/foris-pakon-plugin/Makefile b/web/foris/foris-pakon-plugin/Makefile
deleted file mode 100644
index ebe16baa7..000000000
--- a/web/foris/foris-pakon-plugin/Makefile
+++ /dev/null
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2018-2019 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v3.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-pakon-plugin
-PKG_VERSION:=2.6.1
-PKG_RELEASE:=3
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-pakon-plugin.git
-PKG_MIRROR_HASH:=f30177ca0a204927bf1f4ff142fb356c89688668b11709a98ccbffe1e08261eb
-PKG_SOURCE_VERSION:=package-v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=GPL-3.0-or-later
-PKG_LICENSE_FILES:=LICENSE
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-PKG_BUILD_DEPENDS:=foris-plugins-distutils/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ../foris/files/foris-translations.mk
-include ../foris/files/foris-plugin.mk
-
-define Package/foris-pakon-plugin
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Fors Pakon plugin
-  DEPENDS:=\
-    +foris +foris-controller-pakon-module
-  VARIANT:=python3
-endef
-
-define Package/foris-pakon-plugin/description
-  Foris plugin for Pakon.
-endef
-
-FORIS_TRANSLATIONS:=cs nb pl sk
-
-$(eval $(call ForisPlugin,foris-pakon-plugin,pakon))
-# call BuildPackage <= assures OWR build system that this is package
diff --git a/web/foris/foris-plugins-distutils/Makefile b/web/foris/foris-plugins-distutils/Makefile
deleted file mode 100644
index 332852390..000000000
--- a/web/foris/foris-plugins-distutils/Makefile
+++ /dev/null
@@ -1,55 +0,0 @@
-#
-# Copyright (C) 2018-2019 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v3.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-plugins-distutils
-PKG_VERSION:=0.3
-PKG_RELEASE:=3
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-plugins-distutils
-PKG_MIRROR_HASH:=529556a48a07df10b02aced0c8541af85c1c4c0ac0975d9b5eabff7791ef396f
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=LICENSE
-PKG_LICENSE_FILES:=GPL-3.0-or-later
-
-PKG_BUILD_DEPENDS:=python-libsass
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-HOST_BUILD_DEPENDS:=python3/host
-
-include $(INCLUDE_DIR)/host-build.mk
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-
-define Package/foris-plugins-distutils
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris Distutils plugins
-  URL:=https://gitlab.nic.cz/turris/foris/foris-plugins-distutils
-  DEPENDS:=+python3-light
-  VARIANT:=python3
-endef
-
-define Package/foris-plugins-distutils/description
-  Distutils to build foris plugins.
-endef
-
-define Host/Compile
-	$(call Build/Compile/HostPy3Mod,,install --prefix="" --root="$(STAGING_DIR_HOSTPKG)")
-endef
-
-Host/Install:=
-
-$(eval $(call HostBuild))
-
-$(eval $(call Py3Package,foris-plugins-distutils))
-$(eval $(call BuildPackage,foris-plugins-distutils))
-$(eval $(call BuildPackage,foris-plugins-distutils-src))
diff --git a/web/foris/foris-storage-plugin/Makefile b/web/foris/foris-storage-plugin/Makefile
deleted file mode 100644
index ec693b6a0..000000000
--- a/web/foris/foris-storage-plugin/Makefile
+++ /dev/null
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2018-2021 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-storage-plugin
-PKG_VERSION:=3.0.1
-PKG_RELEASE:=1
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-storage-plugin.git
-PKG_MIRROR_HASH:=0043d7d553bf605d26595d3fa61570de6dbd3a5bfba57a9102df13ba25ba6463
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=LICENSE
-PKG_LICENSE_FILES:=GPL-3.0-or-later
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-PKG_BUILD_DEPENDS:=foris-plugins-distutils/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ../foris/files/foris-translations.mk
-include ../foris/files/foris-plugin.mk
-
-define Package/foris-storage-plugin
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris Storage plugin
-  DEPENDS:=\
-    +foris +foris-controller-storage-module
-  VARIANT:=python3
-endef
-
-define Package/foris-storage-plugin/description
-  Foris plugin for storage management.
-endef
-
-FORIS_TRANSLATIONS:=cs nb pl sk
-
-$(eval $(call ForisPlugin,foris-storage-plugin,storage))
-# call BuildPackage <= assures OWR build system that this is package
diff --git a/web/foris/foris-subordinates-plugin/Makefile b/web/foris/foris-subordinates-plugin/Makefile
deleted file mode 100644
index 1ccea8780..000000000
--- a/web/foris/foris-subordinates-plugin/Makefile
+++ /dev/null
@@ -1,48 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris-subordinates-plugin
-PKG_VERSION:=0.6
-PKG_RELEASE:=2
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris-subordinates-plugin.git
-PKG_MIRROR_HASH:=1d9b457e5a2e17a2c3e0188a62c424193d11bb74f32ca0b6faa44102c26663e3
-PKG_SOURCE_VERSION:=package-v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=LICENSE
-PKG_LICENSE_FILES:=GPL-3.0-or-later
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:=libsass==0.14.5
-PKG_BUILD_DEPENDS:=foris-plugins-distutils/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ../foris/files/foris-translations.mk
-include ../foris/files/foris-plugin.mk
-
-define Package/foris-subordinates-plugin
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris Subordinates plugin
-  DEPENDS:= \
-    +foris +foris-controller-netboot-module +foris-controller-subordinates-module
-  VARIANT:=python3
-endef
-
-define Package/foris-subordinates-plugin/description
-  Foris plugin for managing subordinates devices.
-endef
-
-FORIS_TRANSLATIONS:=cs de pl ru sk
-
-$(eval $(call ForisPlugin,foris-subordinates-plugin,subordinates))
-# call BuildPackage <= assures OWR build system that this is package
diff --git a/web/foris/foris/Makefile b/web/foris/foris/Makefile
deleted file mode 100644
index 39f3cd77e..000000000
--- a/web/foris/foris/Makefile
+++ /dev/null
@@ -1,140 +0,0 @@
-#
-# Copyright (C) 2019-2020 CZ.NIC z.s.p.o. (http://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v3.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=foris
-PKG_VERSION:=101.1.1
-PKG_RELEASE:=4
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/foris/foris.git
-PKG_MIRROR_HASH:=d9e8ba96063a32f59eede8daaf46a9dd70c263a6dd0b098356a940696d0b7ef4
-PKG_SOURCE_VERSION:=package-v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=LICENSE
-PKG_LICENSE_FILES:=GPL-3.0-or-later
-
-HOST_PYTHON3_PACKAGE_BUILD_DEPENDS:= \
-	pytz==2018.9 \
-	Babel==2.6.0 \
-	libsass==0.14.5 \
-	MarkupSafe==1.1.1 \
-	Jinja2==2.10
-PKG_BUILD_DEPENDS:= \
-	compass/host \
-	ruby-breakpoint/host
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-include ./files/foris-translations.mk
-
-define Package/foris
-  SECTION:=web
-  CATEGORY:=Web
-  SUBMENU:=Foris
-  TITLE:=Foris
-  DEPENDS:= \
-    +python3-light +python3-bottle +python3-bottle-i18n +python3-setuptools \
-    +python3-flup +python3-ubus +python3-jinja2 +lighttpd +lighttpd-mod-fastcgi \
-    +lighttpd-mod-redirect +lighttpd-mod-setenv +lighttpd-mod-alias +foris-ws \
-    +foris-client +luci +fosquitto +python3-paho-mqtt \
-    +crypto-wrapper
-  VARIANT:=python3
-endef
-
-define Package/foris/description
-  Turris Web administration interface.
-endef
-
-define run_foris_makefile
-	$(call Build/Compile/Default)
-endef
-Hooks/Compile/Pre += run_foris_makefile
-
-define Py3Package/foris/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/foris/locale/*
--|$(PYTHON3_PKG_DIR)/foris/langs/??.py
--|$(PYTHON3_PKG_DIR)/foris/langs/??.pyc
-endef
-
-define Py3Package/foris/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $(1)/usr/bin/
-
-	$(INSTALL_DIR) $(1)$(PYTHON3_PKG_DIR)/foris/locale
-	touch $(1)$(PYTHON3_PKG_DIR)/foris/locale/.keep
-
-	$(INSTALL_DIR) $(1)/usr/share/turris-webapps
-	$(INSTALL_DATA) ./files/00_foris.conf $(1)/usr/share/turris-webapps/
-	$(INSTALL_DIR) $(1)/www/webapps-icons
-	$(INSTALL_DATA) ./files/turris.svg $(1)/www/webapps-icons
-
-	$(INSTALL_DIR) $(1)/etc/lighttpd/conf.d/
-	$(INSTALL_DATA) ./files/foris-config.lighttpd-conf $(1)/etc/lighttpd/conf.d/foris-config.conf
-
-	$(INSTALL_DIR) $(1)/usr/share/foris
-	$(INSTALL_BIN) ./files/lighttpd-dynamic-conf $(1)/usr/share/foris/lighttpd-dynamic-conf
-	$(INSTALL_BIN) ./files/foris-config-cgi $(1)/usr/share/foris/foris-config-cgi
-	$(SED) 's%/usr/lib/python...%/usr/lib/python$(PYTHON3_VERSION)%g' $(1)/usr/share/foris/lighttpd-dynamic-conf
-endef
-
-define Package/foris/postinst
-#!/bin/sh
-[ -n "$$IPKG_INSTROOT" ] || {
-	/etc/init.d/lighttpd enable
-	/usr/bin/maintain-lighttpd-restart
-}
-endef
-
-define Package/foris/prerm
-#!/bin/sh
-[ -n "$$IPKG_INSTROOT" ] || /usr/bin/maintain-lighttpd-restart
-endef
-
-# $1 = translation name
-define ForisTranslation
- define Package/foris-l10n-$(1)
-	TITLE:=foris-l10n-$(1)
-	DEPENDS:=\
-		+foris
-	MAINTAINER:=CZ.NIC <packaging@turris.cz>
-	VARIANT:=python3
- endef
-
- define Package/foris-l10n-$(1)/install
-	$(INSTALL_DIR) $$(1)$(PYTHON3_PKG_DIR)/foris/locale/$(1)/LC_MESSAGES
-	$(CP) \
-		$(PKG_INSTALL_DIR)$(PYTHON3_PKG_DIR)/foris/locale/$(1)/LC_MESSAGES/*.mo \
-		$$(1)$(PYTHON3_PKG_DIR)/foris/locale/$(1)/LC_MESSAGES/
-	$(INSTALL_DIR) $$(1)$(PYTHON3_PKG_DIR)/foris/langs/
-	$(CP) \
-		$(PKG_INSTALL_DIR)$(PYTHON3_PKG_DIR)/foris/langs/$(1).py* \
-		$$(1)$(PYTHON3_PKG_DIR)/foris/langs/
- endef
-
- define Package/foris-l10n-$(1)/postrm
-#!/bin/sh
-[ -n "$$$${IPKG_INSTROOT}" ] || /etc/init.d/lighttpd restart
- endef
-
- define Package/foris-l10n-$(1)/postinst
-#!/bin/sh
-[ -n "$$$${IPKG_INSTROOT}" ] || /etc/init.d/lighttpd restart
- endef
-
-endef
-
-$(eval $(call Py3Package,foris))
-$(eval $(call BuildPackage,foris))
-$(eval $(call BuildPackage,foris-src))
-
-# Translation definitions
-$(foreach trans,$(FORIS_TRANSLATIONS),$(eval $(call ForisTranslation,$(trans))))
-$(foreach trans,$(FORIS_TRANSLATIONS),$(eval $(call BuildPackage,foris-l10n-$(trans))))
diff --git a/web/foris/foris/files/00_foris.conf b/web/foris/foris/files/00_foris.conf
deleted file mode 100644
index f9adf921a..000000000
--- a/web/foris/foris/files/00_foris.conf
+++ /dev/null
@@ -1,3 +0,0 @@
-URL="$(uci -q get foris.server.scriptname || echo /foris)/config/"
-NAME="Foris - Simple configuration interface for Turris OS"
-ICON="turris.svg"
diff --git a/web/foris/foris/files/foris-config-cgi b/web/foris/foris/files/foris-config-cgi
deleted file mode 100755
index 7500b9980..000000000
--- a/web/foris/foris/files/foris-config-cgi
+++ /dev/null
@@ -1,33 +0,0 @@
-#!/bin/sh
-
-. /lib/functions.sh
-
-config_load foris
-config_get_bool DEBUG server debug "0"
-config_get_bool NOAUTH auth noauth "0"
-config_get SESSION_TIMEOUT auth session_timeout ""
-config_get SCRIPTNAME server scriptname "/foris"
-config_get SENTRY_DSN sentry dsn ""
-
-if [ -n "$SENTRY_DSN" ]; then
-	export SENTRY_DSN="$SENTRY_DSN"
-fi
-
-EXTRA_FLAGS=""
-[ "$DEBUG" = "1" ] && EXTRA_FLAGS="$EXTRA_FLAGS -d"
-[ "$NOAUTH" = "1" ] && EXTRA_FLAGS="$EXTRA_FLAGS --noauth"
-[ "$SESSION_TIMEOUT" != "" ] && EXTRA_FLAGS="$EXTRA_FLAGS --session-timeout $SESSION_TIMEOUT"
-
-if [ -z "$SCRIPTNAME" ]; then
-	export PATH_INFO="/"
-fi
-
-config_load foris-controller
-config_get HOST mqtt host "localhost"
-config_get PORT mqtt port "11883"
-config_get credentials_file mqtt credentials_file "/etc/fosquitto/credentials.plain"
-if serial_number=$(crypto-wrapper serial-number); then
-	controller_id="--mqtt-controller-id $serial_number"
-fi
-
-exec /usr/bin/foris -s cgi $EXTRA_FLAGS -b "$BUS" --mqtt-host "$HOST" --mqtt-port "$PORT" --mqtt-passwd-file "$credentials_file" $controller_id -a config
diff --git a/web/foris/foris/files/foris-config.lighttpd-conf b/web/foris/foris/files/foris-config.lighttpd-conf
deleted file mode 100644
index adbbe8ee6..000000000
--- a/web/foris/foris/files/foris-config.lighttpd-conf
+++ /dev/null
@@ -1,3 +0,0 @@
-# lighttpd include file for Foris - it just calls the script
-# that generates lighttpd config from UCI settings
-include_shell "sh /usr/share/foris/lighttpd-dynamic-conf config"
diff --git a/web/foris/foris/files/foris-plugin.mk b/web/foris/foris/files/foris-plugin.mk
deleted file mode 100644
index 6ba3a9405..000000000
--- a/web/foris/foris/files/foris-plugin.mk
+++ /dev/null
@@ -1,78 +0,0 @@
-# $1 = package name
-# $2 = plugin name
-# $3 = plugin translation name
-define ForisPluginTranslation
-
- define Package/$(1)-l10n-$(3)
-    SECTION:=web
-    CATEGORY:=Web
-    SUBMENU:=Foris
-	TITLE:=$(1)-l10n-$(3)
-	DEPENDS:=\
-		+foris +foris-l10n-$(3)
-	MAINTAINER:=CZ.NIC <packaging@turris.cz>
- endef
-
- define Package/$(1)-l10n-$(3)/install
-	$(INSTALL_DIR) $$(1)$(PYTHON3_PKG_DIR)/foris_plugins/$(2)/locale/$(3)/LC_MESSAGES
-	$(CP) \
-		$$(PKG_BUILD_DIR)/foris_plugins/$(2)/locale/$(3)/LC_MESSAGES/*.mo \
-		$$(1)$(PYTHON3_PKG_DIR)/foris_plugins/$(2)/locale/$(3)/LC_MESSAGES/
- endef
-
- define Package/$(1)-l10n-$(3)/postrm
-#!/bin/sh
-[ -n "$$$${IPKG_INSTROOT}" ] || /etc/init.d/lighttpd restart
- endef
-
- define Package/$(1)-l10n-$(3)/postinst
-#!/bin/sh
-[ -n "$$$${IPKG_INSTROOT}" ] || /etc/init.d/lighttpd restart
- endef
-
- $$(eval $$(call BuildPackage,$(1)-l10n-$(3)))
-endef
-
-# $1 = package name
-# $2 = plugin name
-define ForisPlugin
-
- ifndef ForisPlugin/$(1)/install
-  ForisPlugin/$(1)/install:=:
- endif
-
- define Py3Package/$(1)/filespec
-+|$(PYTHON3_PKG_DIR)
--|$(PYTHON3_PKG_DIR)/foris_plugins/__init__.py
--|$(PYTHON3_PKG_DIR)/foris_plugins/*/locale/
- endef
-
- define Py3Package/$(1)/install
-	if [ -d $(PKG_INSTALL_DIR)/usr/bin ]; then \
-		$(INSTALL_DIR) $$(1)/usr/bin ; \
-		$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $$(1)/usr/bin/ ; \
-	fi
-	$$(call ForisPlugin/$(1)/install,$$(1))
- endef
-
- ifndef Package/$(1)/postrm
-  define Package/$(1)/postrm
-#!/bin/sh
-[ -n "$$$${IPKG_INSTROOT}" ] || /etc/init.d/lighttpd restart
-  endef
- endif
-
- ifndef Package/$(1)/postinst
-  define Package/$(1)/postinst
-#!/bin/sh
-[ -n "$$$${IPKG_INSTROOT}" ] || /etc/init.d/lighttpd restart
-  endef
- endif
-
- $$(eval $$(call Py3Package,$(1)))
- $$(eval $$(call BuildPackage,$(1)))
- $$(eval $$(call BuildPackage,$(1)-src))
- $(foreach trans,$(FORIS_TRANSLATIONS),$(call ForisPluginTranslation,$(1),$(2),$(trans)))
-
-endef
-
diff --git a/web/foris/foris/files/foris-root.lighttpd-conf b/web/foris/foris/files/foris-root.lighttpd-conf
deleted file mode 100644
index 81ccd1df7..000000000
--- a/web/foris/foris/files/foris-root.lighttpd-conf
+++ /dev/null
@@ -1,3 +0,0 @@
-# Make sure that wirzard passes during a migration from older image
-url.redirect += ( "^/wizard/.*$" => "/foris/config/" )
-url.redirect += ( "^/foris/wizard/.*$" => "/foris/config/" )
diff --git a/web/foris/foris/files/foris-translations.mk b/web/foris/foris/files/foris-translations.mk
deleted file mode 100644
index cdbffbd95..000000000
--- a/web/foris/foris/files/foris-translations.mk
+++ /dev/null
@@ -1 +0,0 @@
-FORIS_TRANSLATIONS:=cs de sk pl fr ru lt da it hu nb
diff --git a/web/foris/foris/files/foris.jpg b/web/foris/foris/files/foris.jpg
deleted file mode 100644
index e0b8e88ca1110b1fc0522ca3379acbe644fd37fc..0000000000000000000000000000000000000000
GIT binary patch
literal 0
HcmV?d00001

literal 8215
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
N`UhjskMYx~{{cB`u|xm>

diff --git a/web/foris/foris/files/foris.wrapper b/web/foris/foris/files/foris.wrapper
deleted file mode 100644
index 10b337094..000000000
--- a/web/foris/foris/files/foris.wrapper
+++ /dev/null
@@ -1,4 +0,0 @@
-#!/usr/bin/env python
-
-from foris.__main__ import main
-main()
diff --git a/web/foris/foris/files/lighttpd-dynamic-conf b/web/foris/foris/files/lighttpd-dynamic-conf
deleted file mode 100644
index 910d13705..000000000
--- a/web/foris/foris/files/lighttpd-dynamic-conf
+++ /dev/null
@@ -1,87 +0,0 @@
-#!/bin/sh
-
-. /lib/functions.sh
-
-config_load foris
-config_get SCRIPTNAME server scriptname "/foris"
-config_get_bool DEBUG server debug "0"
-config_get_bool NOAUTH auth noauth "0"
-config_get SESSION_TIMEOUT auth session_timeout ""
-config_get SERVER server server "flup"
-config_get SENTRY_DSN sentry dsn ""
-
-APP="$1"
-
-# scriptname must not contain escape codes (avoid CRLF injection in sed later)
-# and for the sake of UX, trailing and leading slashes are trimmed
-SCRIPTNAME=$(echo "$SCRIPTNAME" | sed -e 's;\\;\\\\;g' | sed -e 's;/*$;;g' | sed -e 's;^/*;;g' | sed -e 's;/+;/;g')
-[ "$SCRIPTNAME" != "" ] && SCRIPTNAME="/$SCRIPTNAME"
-
-EXTRA_FLAGS=""
-[ "$DEBUG" = "1" ] && EXTRA_FLAGS="$EXTRA_FLAGS -d"
-[ "$NOAUTH" = "1" ] && EXTRA_FLAGS="$EXTRA_FLAGS --noauth"
-[ "$SESSION_TIMEOUT" != "" ] && EXTRA_FLAGS="$EXTRA_FLAGS --session-timeout $SESSION_TIMEOUT"
-EXTRA_FLAGS="$EXTRA_FLAGS -s $SERVER"
-
-FORIS_PATHS=""
-tmp_out=$(eval /usr/bin/foris -R $EXTRA_FLAGS -a $APP)
-for path in $tmp_out;  do
-	FORIS_PATHS="$FORIS_PATHS|${path:1}"  # remove first '/' character
-done
-
-# get bus config
-config_load foris-controller
-config_get BUS_HOST mqtt host "localhost"
-config_get BUS_PORT mqtt port "11883"
-config_get CREDENTIALS_FILE mqtt credentials_file "/etc/fosquitto/credentials.plain"
-if serial_number=$(crypto-wrapper serial-number); then
-	CONTROLLER_ID=" --mqtt-controller-id $serial_number"
-fi
-
-echo "var.foris-$APP.bin = \"/usr/bin/foris\""
-echo "var.foris-$APP.cgi = \"/usr/share/foris/foris-$APP-cgi\""
-echo "var.foris-$APP.scriptname = \"$SCRIPTNAME/$APP\""
-echo "var.foris-$APP.flags = \"$EXTRA_FLAGS -a $APP -b mqtt --mqtt-host $BUS_HOST --mqtt-port $BUS_PORT --mqtt-passwd-file ${CREDENTIALS_FILE}${CONTROLLER_ID}\""
-echo "var.foris-$APP.paths = \"$FORIS_PATHS\""
-echo
-echo "\$HTTP[\"url\"] =~ \"^\" + var.foris-$APP.scriptname + \"/(\" + var.foris-$APP.paths + \")$\" {"
-echo "  server.max-read-idle = 90"
-case $SERVER in
-	flup)
-		echo '	fastcgi.debug = 0'
-		echo '	fastcgi.server = ('
-		echo "		var.foris-$APP.scriptname => ("
-		echo '			"python-fcgi" => ('
-		echo "				\"socket\" => \"/tmp/fastcgi.foris-$APP.socket\","
-		echo "				\"bin-path\" => var.foris-$APP.bin + var.foris-$APP.flags,"
-		echo '				"check-local" => "disable",'
-		echo '				"max-procs" => 1,'
-if [ -n "$SENTRY_DSN" ]; then
-		echo '				"bin-environment" => ('
-		echo "					\"SENTRY_DSN\" => \"$SENTRY_DSN\","
-
-		echo '				),'
-fi
-		echo '			)'
-		echo '		)'
-		echo '	)'
-	;;
-	cgi)
-		echo "	alias.url = ( var.foris-$APP.scriptname => var.foris-$APP.cgi )"
-		echo '	cgi.assign = ( "" => "" )'
-	;;
-esac
-echo "}"
-
-
-PLUGINS_DIR=/usr/lib/pythonX.X/site-packages/foris_plugins/
-
-for PLUGIN_PATH in $PLUGINS_DIR/*; do
-	PLUGIN_NAME=$(basename $PLUGIN_PATH)
-	[ -d "$PLUGIN_PATH/static" ] && {
-		echo "alias.url += ( var.foris-$APP.scriptname + \"/static/plugins/$PLUGIN_NAME/\" => \"$PLUGIN_PATH/static/\" )"
-	}
-done
-
-echo "alias.url += ( var.foris-$APP.scriptname + \"/static/generated/\" => \"/tmp/.foris_workdir/dynamic_assets/$APP/\" )"
-echo "alias.url += ( var.foris-$APP.scriptname + \"/static/\" => \"/usr/lib/pythonX.X/site-packages/foris/static/\" )"
diff --git a/web/foris/foris/files/turris.svg b/web/foris/foris/files/turris.svg
deleted file mode 100644
index 047b5a4bd..000000000
--- a/web/foris/foris/files/turris.svg
+++ /dev/null
@@ -1,3 +0,0 @@
-<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="1000">
-    <path d="M276.44496634476-.214l525.5454-.286-104.7004 181.723-315.4908.2862-157.56 272.8092-210.8315.2045 263.0384-454.7368zm341.5327 499.626l262.8343-454.4916 105.1088 181.9683-157.4384 273.2998 155.844 269.3753c3.4344 4.2927-1.758 8.9125-3.2293 12.878l-99.9582 172.6472-263.16-455.677zm-604.8984 45.5842l526.363.1225 262.834 454.2873c-70.2773-.04-140.5953.327-210.872-.1637l-157.3983-271.9917c-105.1494.04-210.2587-.04-315.368.04l-105.5588-182.2953z"/>
-</svg>
\ No newline at end of file
-- 
2.30.2


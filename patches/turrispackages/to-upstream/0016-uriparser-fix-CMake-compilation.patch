From 87eb0eb8fdb0bd51afcd57cc54265363b19f72b8 Mon Sep 17 00:00:00 2001
From: Josef Schlehofer <pepe.schlehofer@gmail.com>
Date: Thu, 8 Jul 2021 23:16:04 +0200
Subject: [PATCH] uriparser: fix CMake compilation

Fixes:
ninja: error: loading 'build.ninja': No such file or directory

Source:
https://github.com/openwrt/packages/pull/15012/files#diff-03f422c03a3e924a3ff829ea75c637e7304a33ef39d451c5aec90127f11d0635R20
---
 libs/uriparser/Makefile | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/libs/uriparser/Makefile b/libs/uriparser/Makefile
index 96c6c1d77..f0adce06a 100644
--- a/libs/uriparser/Makefile
+++ b/libs/uriparser/Makefile
@@ -9,7 +9,7 @@ include $(TOPDIR)/rules.mk
 
 PKG_NAME:=uriparser
 PKG_VERSION:=0.9.5
-PKG_RELEASE:=1
+PKG_RELEASE:=2
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
 PKG_SOURCE_URL:=https://github.com/uriparser/uriparser/archive
@@ -24,7 +24,6 @@ include $(INCLUDE_DIR)/host-build.mk
 include $(INCLUDE_DIR)/package.mk
 include $(INCLUDE_DIR)/cmake.mk
 
-
 define Package/uriparser
   SECTION:=utils
   CATEGORY:=Utilities
@@ -47,7 +46,7 @@ define package/liburiparser/description
   strictly rfc 3986 compliant uri parsing and handling library written in c89
 endef
 
-CMAKE_OPTIONS := \
+CMAKE_OPTIONS += \
 	-DBUILD_SHARED_LIBS=ON \
 	-DURIPARSER_BUILD_CHAR=ON \
 	-DURIPARSER_BUILD_DOCS=OFF \
-- 
2.30.2


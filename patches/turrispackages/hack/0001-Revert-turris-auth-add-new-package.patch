From a6cdda266d784ced1d90f7fb4e49b23b2b7403e8 Mon Sep 17 00:00:00 2001
From: Josef Schlehofer <pepe.schlehofer@gmail.com>
Date: Tue, 23 Nov 2021 18:27:16 +0100
Subject: [PATCH 1/3] Revert "turris-auth: add new package"

This reverts commit 82367ebe042b2fc8945b7259dafc8a8ff0b93edc.
---
 web/turris-auth/Makefile            | 59 -----------------------------
 web/turris-auth/files/lighttpd.conf |  1 -
 2 files changed, 60 deletions(-)
 delete mode 100644 web/turris-auth/Makefile
 delete mode 100644 web/turris-auth/files/lighttpd.conf

diff --git a/web/turris-auth/Makefile b/web/turris-auth/Makefile
deleted file mode 100644
index 0d0bf00d7..000000000
--- a/web/turris-auth/Makefile
+++ /dev/null
@@ -1,59 +0,0 @@
-#
-# Copyright (C) 2021 CZ.NIC, z. s. p. o. (https://www.nic.cz/)
-#
-# This is free software, licensed under the GNU General Public License v2.
-# See /LICENSE for more information.
-#
-
-include $(TOPDIR)/rules.mk
-
-PKG_NAME:=turris-auth
-PKG_VERSION:=0.2.0
-PKG_RELEASE:=1
-
-PKG_SOURCE_PROTO:=git
-PKG_SOURCE_URL:=https://gitlab.nic.cz/turris/turris-auth.git
-PKG_MIRROR_HASH:=e4252dfcac1f68d654df09837a62ec61731cd8cf6c1b78819ef9ccb86310141a
-PKG_SOURCE_VERSION:=v$(PKG_VERSION)
-
-PKG_MAINTAINER:=CZ.NIC <packaging@turris.cz>
-PKG_LICENSE:=GPL-3.0-or-later
-PKG_LICENSE_FILES:=COPYING
-
-include $(INCLUDE_DIR)/package.mk
-include $(TOPDIR)/feeds/packages/lang/python/python3-package.mk
-
-define Package/turris-auth
-  SECTION:=web
-  CATEGORY:=Web
-  TITLE:=Turris Authentication
-  URL:=https://gitlab.nic.cz/turris/turris-auth
-  DEPENDS:=\
-    +lighttpd-mod-fastcgi \
-    +python3-pbkdf2 \
-    +python3-flup \
-    +python3-jinja2 \
-    +python3-uci
-  VARIANT:=python3
-endef
-
-define Package/turris-auth/description
-  Turris Authentication for web applications. This is login gateway that can be
-  optionally added to any web application.
-endef
-
-define Py3Package/turris-auth/install
-	$(INSTALL_DIR) $(1)/usr/bin
-	$(CP) $(PKG_INSTALL_DIR)/usr/bin/* $(1)/usr/bin/
-	$(INSTALL_DIR) $(1)/etc/lighttpd/conf.d
-	$(INSTALL_CONF) ./files/lighttpd.conf $(1)/etc/lighttpd/conf.d/_turris-auth.conf
-endef
-
-define Package/turris-auth/postinst
-#!/bin/sh
-[ -n "$$IPKG_INSTROOT" ] || /etc/init.d/lighttpd restart
-endef
-
-$(eval $(call Py3Package,turris-auth))
-$(eval $(call BuildPackage,turris-auth))
-$(eval $(call BuildPackage,turris-auth-src))
diff --git a/web/turris-auth/files/lighttpd.conf b/web/turris-auth/files/lighttpd.conf
deleted file mode 100644
index ce43cad96..000000000
--- a/web/turris-auth/files/lighttpd.conf
+++ /dev/null
@@ -1 +0,0 @@
-include_shell "turris-auth-server --lighttpd-config"
-- 
2.30.2


From ad3662324fbe1b2c65f0d08b9442db40d45c55f0 Mon Sep 17 00:00:00 2001
From: Michal Hrusecky <Michal@Hrusecky.net>
Date: Tue, 16 Jan 2018 16:09:14 +0100
Subject: [PATCH] ncurses: Provide full host build

Some packages might need full ncurses to do host build before doing cross
build. Like MariaDB.

Signed-off-by: Michal Hrusecky <Michal@Hrusecky.net>
---
 package/libs/ncurses/Makefile | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/package/libs/ncurses/Makefile b/package/libs/ncurses/Makefile
index 26fabeef77..1e1e0f33f9 100644
--- a/package/libs/ncurses/Makefile
+++ b/package/libs/ncurses/Makefile
@@ -84,7 +84,7 @@ HOST_CONFIGURE_ARGS += \
 	--without-manpages \
 	--without-profile \
 	--without-tests \
-	--without-curses-h
+	--prefix=$(STAGING_DIR_HOSTPKG)
 
 
 ifeq ($(HOST_OS),FreeBSD)
@@ -158,12 +159,11 @@ define Build/InstallDev
 endef
 
 define Host/Compile
-	$(MAKE) -C $(HOST_BUILD_DIR) libs
-	$(MAKE) -C $(HOST_BUILD_DIR)/progs tic
+	$(MAKE) -C $(HOST_BUILD_DIR)
 endef
 
 define Host/Install
-	$(INSTALL_BIN) $(HOST_BUILD_DIR)/progs/tic $(STAGING_DIR_HOST)/bin/tic
+	$(MAKE) -C $(HOST_BUILD_DIR) install
 endef
 
 $(eval $(call HostBuild))
-- 
2.15.1

